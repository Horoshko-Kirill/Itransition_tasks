@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using CourseWork.Models
@using Microsoft.AspNetCore.Identity
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

<!DOCTYPE html>
<html>
<head>
	<title>CourseWork/@ViewData["Title"]</title>
</head>

<ul>
	@if (SignInManager.IsSignedIn(User))
	{
		<li>
			<form asp-controller="Account" asp-action="Logout">
				<button type="submit">Logout</button>
			</form>
		</li>
		<li>
			<a asp-controller="User" asp-action="Profile">Profile</a>
		</li>
		@if (User.IsInRole("Admin"))
		{
			<li>
				<a asp-controller="Admin" asp-action="AdminPage">Admin page</a>
			</li>
		}
		<li>
			<a asp-controller="MyInventories" asp-action="MyInventories">My Inventories</a>
		</li>
	}
	else
	{
		<li>
			<a asp-controller="Account" asp-action="Register">Register</a>
		</li>
		<li>
			<a asp-controller="Account" asp-action="Login">Login</a>
		</li>
	}
</ul>

<body>
	@RenderBody()

	@await RenderSectionAsync("Scripts", required: false)
</body>
</html>